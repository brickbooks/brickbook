<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Contractor Sign Up – BrickBook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="assets/style.css" />
<script type="module">
  import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

  const supabase = createClient(
    "YOUR_SUPABASE_URL",
    "YOUR_PUBLIC_ANON_KEY"
  );
</script>

  <style>
    .signup-hero {
      background: linear-gradient(
        135deg,
        rgba(27,115,232,0.15),
        rgba(27,115,232,0.04)
      );
      padding: 40px 20px;
      border-radius: 22px;
      text-align: center;
      box-shadow: var(--shadow-soft);
      margin-top: 24px;
      margin-bottom: 28px;
    }

    .signup-card {
      background: var(--card-bg);
      padding: 28px 24px;
      border-radius: 18px;
      box-shadow: var(--shadow-soft);
      max-width: 480px;
      margin: auto;
    }

    .form-group {
      margin-bottom: 18px;
    }

    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .form-input {
      width: 100%;
      padding: 12px 14px;
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
      font-size: 15px;
      background: #fff;
      transition: 0.2s;
    }

    .form-input:focus {
      outline: none;
      border-color: var(--blue);
      box-shadow: 0 0 0 2px rgba(27,115,232,0.15);
    }

    .small-note {
      font-size: 13px;
      color: var(--text-muted);
      margin-top: 14px;
      text-align: center;
    }
  </style>
</head>

<body class="page" data-page="signup">

<header class="site-header">
  <div class="header-inner">
    <div class="logo">BrickBook</div>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="booking.html">Booking</a>
      <a href="contractor-login.html">Contractor</a>
      <a href="squad-login.html">Squad</a>
    </nav>
    <div class="hamburger" onclick="toggleMenu()">☰</div>
  </div>
</header>

<div id="mobileMenu" class="mobile-nav">
  <a href="index.html">Home</a>
  <a href="booking.html">Booking</a>
  <a href="contractor-login.html">Contractor Login</a>
  <a href="squad-login.html">Squad Login</a>
</div>

<main class="container">

  <!-- HERO -->
  <section class="signup-hero">
    <h1 class="h1" style="font-size:32px;">Create Your Contractor Account</h1>
    <p class="text-muted" style="font-size:16px;">
      Manage squads, approvals, pricing and bookings — all in one place.
    </p>
  </section>

  <!-- SIGNUP FORM CARD -->
  <section class="signup-card">
    <form id="contractorSignupForm">

      <div class="form-group">
        <label>Company Name</label>
        <input type="text" class="form-input" id="companyName" required />
      </div>

      <div class="form-group">
        <label>Your Full Name</label>
        <input type="text" class="form-input" id="fullName" required />
      </div>

      <div class="form-group">
        <label>Email Address</label>
        <input type="email" class="form-input" id="email" required />
      </div>

      <div class="form-group">
        <label>Phone Number</label>
        <input type="tel" class="form-input" id="phone" required />
      </div>

      <div class="form-group">
        <label>Create Password</label>
        <input type="password" class="form-input" id="password" required />
      </div>

      <button type="submit" class="btn btn-primary" style="width:100%; padding:14px; font-size:16px;">
        Create Account
      </button>

      <p class="small-note">
        Already have an account? <a href="contractor-login.html" style="color:var(--blue); font-weight:600;">Log in</a>
      </p>
    </form>
  </section>

</main>

<footer class="site-footer">
  <div class="footer-inner">
    <span>© 2025 BrickBook</span>
    <span class="text-muted">Digital Booking-Off for Bricklaying Squads</span>
  </div>
</footer>

<script>
function toggleMenu() {
  document.getElementById('mobileMenu').classList.toggle('show');
}

// Placeholder signup action (localStorage for now)
// Later this will switch to Firebase/Supabase auth + contractor table.
document.getElementById("contractorSignupForm").addEventListener("submit", function (e) {
  e.preventDefault();

  const contractor = {
    companyName: document.getElementById("companyName").value,
    fullName: document.getElementById("fullName").value,
    email: document.getElementById("email").value.toLowerCase(),
    phone: document.getElementById("phone").value,
    password: document.getElementById("password").value
  };

  // Save to localStorage (temporary)
  localStorage.setItem("contractorAccount", JSON.stringify(contractor));

  // Auto-login for now
  sessionStorage.setItem("loggedIn", "true");

  // Redirect to dashboard
  window.location.href = "contractor-dashboard.html";
});
</script>

</body>
</html>

